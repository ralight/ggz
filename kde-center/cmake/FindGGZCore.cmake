SET(GGZCORE_FOUND "NO")

FIND_PROGRAM(PKGCONFIG_EXECUTABLE NAMES pkg-config PATHS /usr/bin/ /usr/local/bin)
EXEC_PROGRAM(${PKGCONFIG_EXECUTABLE} ARGS 'ggzcore >= snapshot-0.99.3' RETURN_VALUE _return)
if(_return STREQUAL "0")
  SET(GGZCORE_FOUND "YES")
endif(_return STREQUAL "0")

if(GGZCORE_FOUND)
  EXEC_PROGRAM(${PKGCONFIG_EXECUTABLE} ARGS --libs ggzcore OUTPUT_VARIABLE GGZCORE_LIBRARY)
  EXEC_PROGRAM(${PKGCONFIG_EXECUTABLE} ARGS --variable=includedir ggzcore OUTPUT_VARIABLE GGZCORE_INCLUDES)
  MESSAGE(STATUS "Found ggzcore (library ${GGZCORE_LIBRARY}, headers ${GGZCORE_INCLUDES}).")
else(GGZCORE_FOUND)
  MESSAGE(FATAL_ERROR "Could not find ggzcore.")
endif(GGZCORE_FOUND)
