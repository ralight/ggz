////////////////////////////////////////////////////////////////////////////
//                                                                        //
// The Netmap C++ Class Library                                           //
//                                                                        //
// Copyright (C) 2001 Josef Spillner                                      //
// dr_maux@users.sourceforge.net                                          //
// The MindX Open Source Project                                          //
// http://mindx.sourceforge.net/development/netmap                        //
//                                                                        //
// Published under GNU GPL conditions                                     //
//                                                                        //
////////////////////////////////////////////////////////////////////////////

#ifndef NETMAP_RESOURCE_SOCKET
#define NETMAP_RESOURCE_SOCKET

// Netmap include files
#include <NetmapResource>

/**
	This is a class inherited from @ref NetmapResource. It passes map information to and from
	a unix domain socket and can be used as a carrier between hosts.
*/

class NetmapResourceSocket : public NetmapResource
{
	public:
		/** Constructor */
		NetmapResourceSocket();

		/** Destructor */
		~NetmapResourceSocket();

		/** Open a socket locally. This is for reading and writing. */
		void openSocket(char *socketname);

		/** Close an open socket. */
		void closeSocket();

		/** Specify the x and y coordinates to read one tile. */
		Ntile *readTileAbsolute(Ncoord x, Ncoord y);

		/** Read a tile relative to the specified Vtile. */
		Ntile *readTileRelative(Ncoord vx, Ncoord vy, Ncoord x, Ncoord y);

		/** Specify the vx and vy coordinates to read one vtile. */
		Nvtile *readVtileAbsolute(Ncoord vx, Ncoord vy);
	private:
		/** Temporary buffer values */
		Ntile *tile;
		Nvtile *vtile;
};

#endif
