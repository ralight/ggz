
<para>
  We now list a complete reference of messages which get
  passed to and from the GGZ server.  This listing conforms to
  protocol version &protonum;.
</para>
    
<section id ="server-to-client"><title>Server to client messages</title>
  <para>
    Three types of data are exchanged between the client and the server:
    <itemizedlist>
      <listitem>
	<para>char: a 1-byte signed char</para>
      </listitem>
      <listitem>
	<para>int: a 4-byte signed integer in network byte order</para>
      </listitem>
      <listitem>
	<para>
	  string: a multibyte null-terminated string preceded by
	  its length (including null-termination) as an integer.
	</para>
      </listitem>
    </itemizedlist>
  </para>
  
  <para>
    Interactions take one of three forms: server messages, client
    requests, and server responses.  Each interaction is prefaced
    by an opcode identifying it (some interactions consist solely
    of the opcode).  The opcode (stored as an enumerated value) is
    sent as an int.
  </para>
  
  <refentry id="msg.server.id"><?dbhtml filename="msg_server_id.html">
    <refmeta>
      <indexterm>
	<primary>MSG_SERVER_ID</primary>
      </indexterm>
      <refentrytitle>MSG_SERVER_ID</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>MSG_SERVER_ID</refname>
      <refpurpose>Server identification</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>0</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">
		      MSG_SERVER_ID
		    </entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">server_id</entry>
		    <entry>string</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">protocol_version</entry>
		    <entry>int</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">chat_length</entry>
		    <entry>int</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>An identification message from the server</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">server_id</emphasis></term>
	    <listitem>
	      <para>
		Server identification string (including version number)
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">protocol_version</emphasis></term>
	    <listitem>
	      <para>
		32-bit protocol version number
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">chat_length</emphasis></term>
	    <listitem>
	      <para>
		Maximum allowable chat message length (in bytes)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  MSG_SERVER_ID is sent from the server to the client upon
	  a successful connection.  It does not guarantee a
	  successful login.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="msg.server.full"><?dbhtml filename="msg_server_full.html">
    <refmeta>
      <indexterm>
	<primary>MSG_SERVER_FULL</primary>
      </indexterm>
      <refentrytitle>MSG_SERVER_FULL</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>MSG_SERVER_FULL</refname>
      <refpurpose>Server full message</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>1</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">
		      MSG_SERVER_FULL
		    </entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Indication that the server cannot accept any logins</para>
      <refsect2>
	<title>Usage</title>
	<para>
	  MSG_SERVER_FULL is sent from the server to the client
	  upon immediately after <link
				       linkend="msg.server.id">MSG_SERVER_ID</link> if the
	  server has reached its maximum number of connected
	  users.  The connection is then terminated.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="msg.motd"><?dbhtml filename="msg_motd.html">
    <refmeta>
      <indexterm>
	<primary>MSG_MOTD</primary>
      </indexterm>
      <refentrytitle>MSG_MOTD</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>MSG_MOTD</refname>
      <refpurpose>Server Message of the day</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>2</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">
		      MSG_MOTD
		    </entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">lines</entry>
		    <entry>int</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C3">
		      <emphasis>sequence of</emphasis> lines:
		    </entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C2" nameend="C2">message</entry>
		    <entry>string</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Message of the day (MOTD) from the Server</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">lines</emphasis></term>
	    <listitem>
	      <para>
		Number of lines in MOTD to follow.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">message</emphasis></term>
	    <listitem>
	      <para>
		A single line of the MOTD
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  MSG_MOTD is sent from the server to the client upon
	  successful login (ie. after <link
					    linkend="rsp.login.new">RSP_LOGIN_NEW</link>,<link
											       linkend="rsp.login.anon">RSP_LOGIN_ANON</link>, or <link
																			linkend="rsp.login">RSP_LOGIN</link>)
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="msg.chat"><?dbhtml filename="msg_chat.html">
    <refmeta>
      <indexterm>
	<primary>MSG_CHAT</primary>
      </indexterm>
      <refentrytitle>MSG_CHAT</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>MSG_CHAT</refname>
      <refpurpose>Server-relayed chat message</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>3</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">MSG_CHAT</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry><emphasis role="bold">Data</emphasis></entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		    <entry><emphasis role="bold">Sent</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>sub-opcode</entry>
		    <entry>char</entry>
		    <entry>always</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>player</entry>
		    <entry>string</entry>
		    <entry>always</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>message</entry>
		    <entry>string</entry>
		    <entry>if bit set</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Chat message from a player (relayed via server)</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">sub-opcode</emphasis></term>
	    <listitem>
	      <para>
		Chat operation type:
		<itemizedlist>
		  <listitem>
		    <para>
		      GGZ_CHAT_NORMAL (64) : typical chat message
		      to all in room (includes message field)
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_CHAT_BEEP (128) : send a beep to another
		      player's console (does not include message)
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_CHAT_PERSONAL (192) : message directed
		      to a single player (includes message field)
		    </para>
		  </listitem>
		</itemizedlist>
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">player</emphasis></term>
	    <listitem>
	      <para>
		Name of player who originated message.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">message</emphasis></term>
	    <listitem>
	      <para>
		Chat message.  Only included if next to
		most-significant bit of sub-opcode is set
		(ie. sub-opcode & 0x40 is true)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  MSG_CHAT is sent from the server to the client whenever
	  that client has pending chats from other players.  This
	  occurs only when the player is a room.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="msg.update.players">
    <?dbhtml filename="msg_update_players.html">
    <refmeta>
      <indexterm>
	<primary>MSG_UPDATE_PLAYERS</primary>
      </indexterm>
      <refentrytitle>MSG_UPDATE_PLAYERS</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>MSG_UPDATE_PLAYERS</refname>
      <refpurpose>
	Notification that the list of players in a room has
	changed
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>4</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">MSG_UPDATE_PLAYERS</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry><emphasis role="bold">Data</emphasis></entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		    <entry><emphasis role="bold">Sent</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>sub-opcode</entry>
		    <entry>char</entry>
		    <entry>always</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>player</entry>
		    <entry>string</entry>
		    <entry>always</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>
	Notification from the server that the list of players in
	the current room has been modified since the last update
      </para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">sub-opcode</emphasis></term>
	    <listitem>
	      <para>
		Type of update:
		<itemizedlist>
		  <listitem>
		    <para>
		      GGZ_UPDATE_DELETE (0) : The specified player
		      has been deleted from the list (ie. that
		      player has left the room)
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_UPDATE_ADD (1) : The specified player
		      has been added to the list (ie. that
		      player has entered the room)
		    </para>
		  </listitem>
		</itemizedlist>
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">player</emphasis></term>
	    <listitem>
	      <para>
		Name of player who is entering or leaving the room
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  MSG_UPDATE_PLAYERS is sent from the server to the client
	  if the list of players in the current room has changed
	  since the last update.  It is <emphasis>not</emphasis>
	  sent upon initial entry to a room.  To obtain a player
	  list upon entering a room, the client must send a <link
								  linkend="req.list.players">REQ_LIST_PLAYERS</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="msg.update.types">
    <?dbhtml filename="msg_update_types.html">
    <refmeta>
      <indexterm>
	<primary>MSG_UPDATE_TYPES</primary>
      </indexterm>
      <refentrytitle>MSG_UPDATE_TYPES</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>MSG_UPDATE_TYPES</refname>
      <refpurpose>
	Notification that list of supported game types has changed
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>5</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">MSG_UPDATE_TYPES</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry><emphasis role="bold">Data</emphasis></entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		    <entry><emphasis role="bold">Sent</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>sub-opcode</entry>
		    <entry>char</entry>
		    <entry>always</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>ID</entry>
		    <entry>int</entry>
		    <entry>always</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>name</entry>
		    <entry>string</entry>
		    <entry>if added</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>version</entry>
		    <entry>string</entry>
		    <entry>if added</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>player_mask</entry>
		    <entry>char</entry>
		    <entry>if added</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>description</entry>
		    <entry>string</entry>
		    <entry>if added</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>author</entry>
		    <entry>string</entry>
		    <entry>if added</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>homepage</entry>
		    <entry>string</entry>
		    <entry>if added</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>
	Notification from the server that the list of game types
	that it supports has been modified since the last update.
      </para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">sub-opcode</emphasis></term>
	    <listitem>
	      <para>
		Type of update:
		<itemizedlist>
		  <listitem>
		    <para>
		      GGZ_UPDATE_DELETE (0) : The specified game
		      type has been deleted from the list
		      (ie. that game type is no longer supported)
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_UPDATE_ADD (1) : The specified game type
		      has been added to the list (ie. that game
		      type is now supported)
		    </para>
		  </listitem>
		</itemizedlist>
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">ID</emphasis></term>
	    <listitem>
	      <para>Unique numeric ID for this game type</para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Name of game.  This is only sent if the game type
		is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">version</emphasis></term>
	    <listitem>
	      <para>
		Version string for this game type.  This is only
		sent if the game type is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">player_mask</emphasis></term>
	    <listitem>
	      <para>
		Bit mask of allowable player numbers FIXME: Needs
		explained.  This is only sent if the game type is
		being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">description</emphasis></term>
	    <listitem>
	      <para>
		Longer decription of this game.  This is only sent
		if the game type is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">author</emphasis></term>
	    <listitem>
	      <para>
		Author of this game module.  This is only sent if
		the game type is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">homepage</emphasis></term>
	    <listitem>
	      <para>
		URL for obtaining this game module.  This is only
		sent if the game type is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      <refsect2>
	<title>Usage</title>
	<para>
	  MSG_UPDATE_TYPES is sent from the server to the client
	  if the list of game types that the server supports has
	  changed since the last update.  It is
	  <emphasis>not</emphasis> sent upon initial login.  To
	  obtain a list of supported game types upon logging in,
	  the client must send a <link
				       linkend="req.list.types">REQ_LIST_TYPES</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="msg.update.tables">
    <?dbhtml filename="msg_update_tables.html">
    <refmeta>
      <indexterm>
	<primary>MSG_UPDATE_TABLES</primary>
      </indexterm>
      <refentrytitle>MSG_UPDATE_TABLES</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>MSG_UPDATE_TABLES</refname>
      <refpurpose>
	Notification that the list of tables in a room has changed
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<spanspec spanname="all" namest="C1" nameend="C3"
			  align="left"> 	      
		  <tbody>
		    
		    <row rowsep="0">
		      <entry namest="C1" nameend="C2">
			<emphasis role="bold">Opcode</emphasis>
		      </entry>
		      <entry>6</entry>
		    </row>
		    
		    <row rowsep="0">
		      <entry namest="C1" nameend="C3">MSG_UPDATE_TABLES</entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry><emphasis role="bold">Data</emphasis></entry>
		      <entry><emphasis role="bold">Type</emphasis></entry>
		      <entry><emphasis role="bold">Sent</emphasis></entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>sub-opcode</entry>
		      <entry>char</entry>
		      <entry>always</entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>ID</entry>
		      <entry>int</entry>
		      <entry>always</entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>state</entry>
		      <entry>char</entry>
		      <entry>if state</entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>seat</entry>
		      <entry>int</entry>
		      <entry>if join/leave</entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>player</entry>
		      <entry>string</entry>
		      <entry>if join/leave</entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>room</entry>
		      <entry>int</entry>
		      <entry>if added</entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>type</entry>
		      <entry>int</entry>
		      <entry>if added</entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>description</entry>
		      <entry>string</entry>
		      <entry>if added</entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>state</entry>
		      <entry>char</entry>
		      <entry>if added</entry>		  
		    </row>
		    
		    <row rowsep="1">
		      <entry>seats</entry>
		      <entry>int</entry>
		      <entry>if added</entry>		  		  
		    </row>
		    
		    <row rowsep="1">
		      <entry spanname="all">
			<emphasis>sequence of</emphasis> seats:
		      </entry>
		    </row>
		    
		    <row rowsep="1">
		      <entry>assignment</entry>
		      <entry>int</entry>
		      <entry>if added</entry>		  		  
		    </row>
		    
		    <row rowsep="1">
		      <entry>name</entry>
		      <entry>string</entry>
		      <entry>if added</entry>		  		  
		    </row>
		    
		  </tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Notification that the list of tables in the current
	room has been modified since the last update</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">sub-opcode</emphasis></term>
	    <listitem>
	      <para>
		Type of update:
		<itemizedlist>
		  <listitem>
		    <para>
		      GGZ_UPDATE_DELETE (0) : The specified table
		      has been deleted from the list (ie. the
		      game session on that table has completed)
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_UPDATE_ADD (1) : The specified table
		      has been added to the list (ie. a new game
		      session has been launched on that table in
		      the room)
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_UPDATE_LEAVE (2) : The specified player
		      has left his or her seat at the table
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_UPDATE_JOIN (3) : The specified player
		      has joined the table in the designated seat
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_UPDATE_STATE (4) : The state of the
		      table has changed to the designated state
		    </para>
		  </listitem>
		</itemizedlist>
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">ID</emphasis></term>
	    <listitem>
	      <para>
		Unique numeric ID for table
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">state</emphasis></term>
	    <listitem>
	      <para>
		Current state of this table.  Only sent when
		updating the table-state.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">seat</emphasis></term>
	    <listitem>
	      <para>
		Seat number at table.  Only sent if a player is
		joining/leaving the table.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">player</emphasis></term>
	    <listitem>
	      <para>
		Name of player joining/leaving.  Only sent if a
		player is joining/leaving the table.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">room</emphasis></term>
	    <listitem>
	      <para>
		ID of room in which table resides.  This is only
		sent if the table is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">type</emphasis></term>
	    <listitem>
	      <para>
		ID of game type being played on this table.  This
		is only sent if the table is being added to the
		list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">description</emphasis></term>
	    <listitem>
	      <para>
		Brief description of this table.  This is only
		sent if the table is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">state</emphasis></term>
	    <listitem>
	      <para>
		Current state of the table.  FIXME: Explain this.
		This is only sent if the table is being added to
		the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">seats</emphasis></term>
	    <listitem>
	      <para>
		Number of seats at the table.  This is only sent
		if the table is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">assignment</emphasis></term>
	    <listitem>
	      <para>
		Seat assignment FIXME: Explain this.  This is only
		sent if the table is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Reserved seat name FIXME: Explain this.  This is
		only sent if the table is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      <refsect2>
	<title>Usage</title>
	<para>
	  MSG_UPDATE_TABLES is sent from the server to the client
	  if the list of tables in the current room has changed
	  since the last update.  It is <emphasis>not</emphasis>
	  sent upon initial entry to a room.  To obtain a table
	  list upon entering a room, the client must send a <link
								  linkend="req.list.tables">REQ_LIST_TABLES</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="msg.update.rooms">
    <?dbhtml filename="msg_update_rooms.html">
    <refmeta>
      <indexterm>
	<primary>MSG_UPDATE_ROOMS</primary>
      </indexterm>
      <refentrytitle>MSG_UPDATE_ROOMS</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>MSG_UPDATE_ROOMS</refname>
      <refpurpose>
	Notificatiion that the list of rooms on the server has
	changed
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>7</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">MSG_UPDATE_ROOMS</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry><emphasis role="bold">Data</emphasis></entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		    <entry><emphasis role="bold">Sent</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>sub-opcode</entry>
		    <entry>char</entry>
		    <entry>always</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>ID</entry>
		    <entry>int</entry>
		    <entry>always</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>name</entry>
		    <entry>string</entry>
		    <entry>if added</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>game</entry>
		    <entry>int</entry>
		    <entry>if added</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>description</entry>
		    <entry>string</entry>
		    <entry>if added</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>
	Notification that the list of rooms has been modified
	since the last update
      </para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">sub-opcode</emphasis></term>
	    <listitem>
	      <para>
		Type of update:
		<itemizedlist>
		  <listitem>
		    <para>
		      GGZ_UPDATE_DELETE (0) : The specified room
		      has been deleted from the list
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_UPDATE_ADD (1) : The specified room
		      has been added to the list
		    </para>
		  </listitem>
		</itemizedlist>
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">ID</emphasis></term>
	    <listitem>
	      <para>Unique numeric room ID</para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Name of the room.  This is only sent if the room
		is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">game</emphasis></term>
	    <listitem>
	      <para>
		ID of game type played in this room.  This is only
		sent if the room is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">description</emphasis></term>
	    <listitem>
	      <para>
		Longer description of room.  This is only sent if
		the room is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      <refsect2>
	<title>Usage</title>
	<para>
	  MSG_UPDATE_ROOMS is sent from the server to the client
	  if the list of game rooms on the server has changed
	  since the last update.  It is <emphasis>not</emphasis>
	  sent upon initial login.  To obtain a list of game rooms
	  upon logging in, the client must send a <link
							linkend="req.list.rooms">REQ_LIST_ROOMS</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.login.new"><?dbhtml filename="rsp_login_new.html">
    <refmeta>
      <indexterm>
	<primary>RSP_LOGIN_NEW</primary>
      </indexterm>
      <refentrytitle>RSP_LOGIN_NEW</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_LOGIN_NEW</refname>
      <refpurpose>Server response to first-time login request</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>9</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_LOGIN_NEW</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry><emphasis role="bold">Data</emphasis></entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		    <entry><emphasis role="bold">Sent</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>status</entry>
		    <entry>char</entry>
		    <entry>always</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>password</entry>
		    <entry>string</entry>
		    <entry>if success</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>checksum</entry>
		    <entry>int</entry>
		    <entry>if success</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to first-time login request</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">status</emphasis></term>
	    <listitem>
	      <para>
		status of login request (zero if successful,
		negative on error)
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">password</emphasis></term>
	    <listitem>
	      <para>
		Password for new account (only sent if login successful)
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">checksum</emphasis></term>
	    <listitem>
	      <para>
		Checksum of game types (only sent if login successful)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_LOGIN_NEW is sent from the server to the client in
	  response to a new login request via <link
						    linkend="req.login.new">REQ_LOGIN_NEW</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.login"><?dbhtml filename="rsp_login.html">
    <refmeta>
      <indexterm>
	<primary>RSP_LOGIN</primary>
      </indexterm>
      <refentrytitle>RSP_LOGIN</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_LOGIN</refname>
      <refpurpose>Server response to login request</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>10</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_LOGIN</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry><emphasis role="bold">Data</emphasis></entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		    <entry><emphasis role="bold">Sent</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">status</entry>
		    <entry>char</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">checksum</entry>
		    <entry>int</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">reservations</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to player login request</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">status</emphasis></term>
	    <listitem>
	      <para>
		status of login request (zero if successful,
		negative on error)
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">checksum</emphasis></term>
	    <listitem>
	      <para>
		Checksum of game types (only sent if login successful)
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">reservation</emphasis></term>
	    <listitem>
	      <para>
		Flag to indicate if player has resverations
		waiting (only sent if login successful)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_LOGIN is sent from the server to the client in
	  response to a login request via <link
						linkend="rsp.login.new">RSP_LOGIN</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.login.anon"><?dbhtml filename="rsp_login_anon.html">
    <refmeta>
      <indexterm>
	<primary>RSP_LOGIN_ANON</primary>
      </indexterm>
      <refentrytitle>RSP_LOGIN_ANON</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_LOGIN_ANON</refname>
      <refpurpose>Server response to anonymous login request</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>11</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_LOGIN_ANON</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">status</entry>
		    <entry>char</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">checksum</entry>
		    <entry>int</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to anonymous login request</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">status</emphasis></term>
	    <listitem>
	      <para>
		status of login request (zero if successful,
		negative on error)
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">checksum</emphasis></term>
	    <listitem>
	      <para>
		checksum of supported game types (if login was successful)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_LOGIN_ANON is sent from the server to the client in
	  response to an "anonymous" login request via <link
							     linkend="req.login.anon">REQ_LOGIN_ANON</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.logout"><?dbhtml filename="rsp_logout.html">
    <refmeta>
      <indexterm>
	<primary>RSP_LOGOUT</primary>
      </indexterm>
      <refentrytitle>RSP_LOGOUT</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_LOGOUT</refname>
      <refpurpose>Server response to logout request</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>12</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_LOGOUT</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">status</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to player logout request</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">status</emphasis></term>
	    <listitem>
	      <para>
		status of logout request (zero if successfule,
		negative on error)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_LOGOUT is sent from the server to client in response
	  to a logout request via <link
					linkend="req.logout">REQ_LOGOUT</link>.  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.list.players"><?dbhtml filename="rsp_list_players.html">
    <refmeta>
      <indexterm>
	<primary>RSP_LIST_PLAYERS</primary>
      </indexterm>
      <refentrytitle>RSP_LIST_PLAYERS</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_LIST_PLAYERS</refname>
      <refpurpose>
	Server response to request for list of players in room.
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>15</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">
		      RSP_LIST_PLAYERS
		    </entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">players</entry>
		    <entry>int</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C3">
		      <emphasis>sequence of</emphasis> players:
		    </entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry align="right" namest="C1" nameend="C2">name</entry>
		    <entry>string</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry align="right" namest="C1" nameend="C2">table</entry>
		    <entry>int</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to request for list of players in
	current room</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">players</emphasis></term>
	    <listitem>
	      <para>
		Number of players in room, or -1 on error
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Player name
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">table</emphasis></term>
	    <listitem>
	      <para>
		ID number of table at which player is "sitting" or -1
		if the player is not at a table.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_LIST_PLAYERS is sent from the server to the client
	  in response to
	  <link linkend="req.list.players">REQ_LIST_PLAYERS</link>
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.list.types"><?dbhtml filename="rsp_list_types.html">
    <refmeta>
      <indexterm>
	<primary>RSP_LIST_TYPES</primary>
      </indexterm>
      <refentrytitle>RSP_LIST_TYPES</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_LIST_TYPES</refname>
      <refpurpose>
	Server response to request for list of server-supported
	game types.
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<colspec colnum="4" colname="C4">
		  <spanspec spanname="data.seq0" namest="C1" nameend="C2"
			    align="left">
		    <spanspec spanname="data.seq1" namest="C1" nameend="C2"
			      align="right">
		      <spanspec spanname="all" namest="C1" nameend="C4"
				align="left"> 
			<tbody>
			  
			  <row rowsep="0">
			    <entry namest="C1" nameend="C3">
			      <emphasis role="bold">Opcode</emphasis>
			    </entry>
			    <entry>16</entry>
			  </row>
			  
			  <row rowsep="0">
			    <entry spanname="all">RSP_LIST_TYPES</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq0">
			      <emphasis role="bold">Data</emphasis>
			    </entry>
			    <entry><emphasis role="bold">Type</emphasis></entry>
			    <entry><emphasis role="bold">Sent</emphasis></entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq0">types</entry>
			    <entry>int</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="all">
			      <emphasis>sequence of</emphasis> types:
			    </entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">ID</entry>
			    <entry>int</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">name</entry>
			    <entry>string</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">version</entry>
			    <entry>string</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">player_mask</entry>
			    <entry>char</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">bot_mask</entry>
			    <entry>char</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">description</entry>
			    <entry>string</entry>
			    <entry>if verbose</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">author</entry>
			    <entry>string</entry>
			    <entry>if verbose</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">homepage</entry>
			    <entry>string</entry>
			    <entry>if verbose</entry>
			  </row>
			  
			</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to request for list of players in
	current room</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">ID</emphasis></term>
	    <listitem>
	      <para>
		Unique numeric ID for this game type
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Name of game
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">version</emphasis></term>
	    <listitem>
	      <para>
		Version string for this game type
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">player_mask</emphasis></term>
	    <listitem>
	      <para>
		Bit mask of allowable player numbers
		FIXME:  Needs explained
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">bot_mask</emphasis></term>
	    <listitem>
	      <para>
		Bit mask of allowable bot-player numbers
		FIXME:  Needs explained
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">description</emphasis></term>
	    <listitem>
	      <para>
		Longer decription of this game.  Only sent if the
		client requested a verbose listing.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">author</emphasis></term>
	    <listitem>
	      <para>
		Author of this game module.  Only sent if the
		client requested a verbose listing.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">homepage</emphasis></term>
	    <listitem>
	      <para>
		URL for obtaining this game module.  Only sent if the
		client requested a verbose listing.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_LIST_TYPES is sent from the server to the client
	  in response to
	  <link linkend="req.list.types">REQ_LIST_TYPES</link>
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.list.tables"><?dbhtml filename="rsp_list_tables.html">
    <refmeta>
      <indexterm>
	<primary>RSP_LIST_TABLES</primary>
      </indexterm>
      <refentrytitle>RSP_LIST_TABLES</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_LIST_TABLES</refname>
      <refpurpose>
	Server response to request for list of tables
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<colspec colnum="4" colname="C4">
		  <spanspec spanname="data.seq0" namest="C1" nameend="C3"
			    align="left">
		    <spanspec spanname="data.seq1" namest="C1" nameend="C3"
			      align="center">
		      <spanspec spanname="data.seq2" namest="C1" nameend="C3"
				align="right">
			<spanspec spanname="all" namest="C1" nameend="C4"
				  align="left"> 
			  <tbody>
			    
			    <row rowsep="0">
			      <entry namest="C1" nameend="C3">
				<emphasis role="bold">Opcode</emphasis>
			      </entry>
			      <entry>17</entry>
			    </row>
			    
			    <row rowsep="0">
			      <entry spanname="all">RSP_LIST_TABLES</entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq0">
				<emphasis role="bold">Data</emphasis>
			      </entry>
			      <entry><emphasis role="bold">Type</emphasis></entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq0">tables</entry>
			      <entry>int</entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="all">
				<emphasis>sequence of</emphasis> tables:
			      </entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq1">ID</entry>
			      <entry>int</entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq1">room</entry>
			      <entry>int</entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq1">type</entry>
			      <entry>int</entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq1">description</entry>
			      <entry>string</entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq1">state</entry>
			      <entry>char</entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq1">seats</entry>
			      <entry>int</entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="all">
				<emphasis>sequence of</emphasis> seats:
			      </entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq2">assignment</entry>
			      <entry>int</entry>
			    </row>
			    
			    <row rowsep="1">
			      <entry spanname="data.seq2">name</entry>
			      <entry>string</entry>
			    </row>
			    
			  </tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to request for list of tables</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">tables</emphasis></term>
	    <listitem>
	      <para>
		Number of tables, or -1 on error
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">room</emphasis></term>
	    <listitem>
	      <para>
		Room in which table resides
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">ID</emphasis></term>
	    <listitem>
	      <para>
		Unique numeric ID for table
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">type</emphasis></term>
	    <listitem>
	      <para>
		ID of game type being played on this table.  This
		is only sent if the table is being added to the
		list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">description</emphasis></term>
	    <listitem>
	      <para>
		Brief description of this table.  This is only
		sent if the table is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">state</emphasis></term>
	    <listitem>
	      <para>
		Current state of the table.  FIXME: Explain this.
		This is only sent if the table is being added to
		the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">seats</emphasis></term>
	    <listitem>
	      <para>
		Number of seats at the table.  This is only sent
		if the table is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">assignment</emphasis></term>
	    <listitem>
	      <para>
		Seat assignment FIXME: Explain this.  This is only
		sent if the table is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Reserved seat name FIXME: Explain this.  This is
		only sent if the table is being added to the list.
	      </para>
	    </listitem>
	  </varlistentry>	      
	</variablelist>
      </refsect2>	  
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_LIST_TABLES is sent from the server to the client in
	  response to <link
			    linkend="req.list.tables">REQ_LIST_TABLES</link>
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.list.rooms"><?dbhtml filename="rsp_list_rooms.html">
    <refmeta>
      <indexterm>
	<primary>RSP_LIST_ROOMS</primary>
      </indexterm>
      <refentrytitle>RSP_LIST_ROOMS</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_LIST_ROOMS</refname>
      <refpurpose>
	Server response to request for list of rooms
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<colspec colnum="4" colname="C4">
		  <spanspec spanname="data.seq0" namest="C1" nameend="C2"
			    align="left">
		    <spanspec spanname="data.seq1" namest="C1" nameend="C2"
			      align="right">
		      <spanspec spanname="all" namest="C1" nameend="C4"
				align="left">
			<tbody>
			  
			  <row rowsep="0">
			    <entry namest="C1" nameend="C3">
			      <emphasis role="bold">Opcode</emphasis>
			    </entry>
			    <entry>18</entry>
			  </row>
			  
			  <row rowsep="0">
			    <entry spanname="all">RSP_LIST_ROOMS</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq0">
			      <emphasis role="bold">Data</emphasis>
			    </entry>
			    <entry><emphasis role="bold">Type</emphasis></entry>
			    <entry><emphasis role="bold">Sent</emphasis></entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq0">rooms</entry>
			    <entry>int</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="all">
			      <emphasis>sequence of</emphasis> rooms:
			    </entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">ID</entry>
			    <entry>int</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">name</entry>
			    <entry>string</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">game</entry>
			    <entry>int</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">description</entry>
			    <entry>string</entry>
			    <entry>if verbose</entry>
			  </row>
			  
			</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to request for list of rooms</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">rooms</emphasis></term>
	    <listitem>
	      <para>
		Number of rooms, or -1 on error
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">ID</emphasis></term>
	    <listitem>
	      <para>
		Unique numeric room ID
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Room name
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">game</emphasis></term>
	    <listitem>
	      <para>
		ID of game type played in this room
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">description</emphasis></term>
	    <listitem>
	      <para>
		Longer description of room.  Only sent if client
		requested verbose listing.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_LIST_ROOMS is sent from the server to the client in
	  response to <link
			    linkend="req.list.rooms">REQ_LIST_ROOMS</link>
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.table.launch"><?dbhtml filename="rsp_table_launch.html">
    <refmeta>
      <indexterm>
	<primary>RSP_TABLE_LAUNCH</primary>
      </indexterm>
      <refentrytitle>RSP_TABLE_LAUNCH</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_TABLE_LAUNCH</refname>
      <refpurpose>Server response to request for table launch</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>21</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_TABLE_LAUNCH</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">status</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to player request for new table launch</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">status</emphasis></term>
	    <listitem>
	      <para>
		status of launch request (zero if successful,
		negative on error)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_TABLE_LAUNCH is sent from the server to client in
	  response to a table launch request via <link
						       linkend="req.table.launch">REQ_TABLE_LAUNCH</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.table.join"><?dbhtml filename="rsp_table_join.html">
    <refmeta>
      <indexterm>
	<primary>RSP_TABLE_JOIN</primary>
      </indexterm>
      <refentrytitle>RSP_TABLE_JOIN</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_TABLE_JOIN</refname>
      <refpurpose>Server response to request to join table</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>22</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_TABLE_JOIN</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">status</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to player request to join table</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">status</emphasis></term>
	    <listitem>
	      <para>
		status of join request (zero if successful,
		negative on error)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_TABLE_JOIN is sent from the server to client in response
	  to a table join request via <link
					    linkend="req.table.join">REQ_TABLE_JOIN</link>.  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.table.leave"><?dbhtml filename="rsp_table_leave.html">
    <refmeta>
      <indexterm>
	<primary>RSP_TABLE_LEAVE</primary>
      </indexterm>
      <refentrytitle>RSP_TABLE_LEAVE</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_TABLE_LEAVE</refname>
      <refpurpose>Server response to table leave request</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>23</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_TABLE_LEAVE</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">status</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to player request to leave tablet</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">status</emphasis></term>
	    <listitem>
	      <para>
		status of logout request (zero if successful,
		negative on error)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_TABLE_LEAVE is sent from the server to client in response
	  to a table leave request via <link
					     linkend="req.table.leave">REQ_TABLE_LEAVE</link>.  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.game"><?dbhtml filename="rsp_game.html">
    <refmeta>
      <indexterm>
	<primary>RSP_GAME</primary>
      </indexterm>
      <refentrytitle>RSP_GAME</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_GAME</refname>
      <refpurpose>Message from game module server</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>24</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_GAME</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">size</entry>
		    <entry>int</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C3">(raw data)</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Message from game module server</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">size</emphasis></term>
	    <listitem>
	      <para>
		number of bytes sent from game module server to
		game module client
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_GAME is a message sent from the server to client 
	  containing data from the game module server for the game
	  module client.  See also <link
					 linkend="req.game">REQ_GAME</link>.  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.chat"><?dbhtml filename="rsp_chat.html">
    <refmeta>
      <indexterm>
	<primary>RSP_CHAT</primary>
      </indexterm>
      <refentrytitle>RSP_CHAT</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_CHAT</refname>
      <refpurpose>Server response to chat message request</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>25</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_CHAT</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">status</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to player chat request</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">status</emphasis></term>
	    <listitem>
	      <para>
		status of chat message request (zero if successful,
		negative on error)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_CHAT is sent from the server to client in response
	  to a chat message request via <link
					      linkend="req.chat">REQ_CHAT</link>.  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.motd"><?dbhtml filename="rsp_motd.html">
    <refmeta>
      <indexterm>
	<primary>RSP_MOTD</primary>
      </indexterm>
      <refentrytitle>RSP_MOTD</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_MOTD</refname>
      <refpurpose>Server response to request for MOTD</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>26</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">lines</entry>
		    <entry>int</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C3">
		      <emphasis>sequence of</emphasis> lines:
		    </entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C2" nameend="C2">message</entry>
		    <entry>string</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Message of the day (MOTD) from the Server</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">lines</emphasis></term>
	    <listitem>
	      <para>
		Number of lines in MOTD to follow.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">message</emphasis></term>
	    <listitem>
	      <para>
		A single line of the MOTD
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_MOTD is sent from the server to client in response
	  to a logout request via <link
					linkend="req.motd">REQ_MOTD</link>.  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="rsp.room.join"><?dbhtml filename="rsp_room_join.html">
    <refmeta>
      <indexterm>
	<primary>RSP_ROOM_JOIN</primary>
      </indexterm>
      <refentrytitle>RSP_ROOM_JOIN</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>RSP_ROOM_JOIN</refname>
      <refpurpose>Server response to room change request</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>27</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">RSP_ROOM_JOIN</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">status</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to player request to chamge rooms</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">status</emphasis></term>
	    <listitem>
	      <para>
		status of room change request (zero if successful,
		negative on error)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  RSP_ROOM_JOIN is sent from the server to client in response
	  to a room chamge request via <link
					     linkend="req.room.join">REQ_ROOM_JOIN</link>.  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
</section>
    
<section id ="client-to-server"><title>Client to server messages</title>
  
  <refentry id="req.login.new"><?dbhtml filename="req_login_new.html">
    <refmeta>
      <indexterm>
	<primary>REQ_LOGIN_NEW</primary>
      </indexterm>
      <refentrytitle>REQ_LOGIN_NEW</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_LOGIN_NEW</refname>
      <refpurpose>Client requested first-time login</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>0</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_LOGIN_NEW</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">name</entry>
		    <entry>string</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Client requested login of new player</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Requested user name for new player
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_LOGIN_NEW is sent from the client to the server to
	  request that a new player account be created with the
	  specified name.  The request may come after <link
							    linkend="msg.server.id">MSG_SERVER_ID</link>.  The
	  server will respond to the request with <link
							linkend="rsp.login.new">RSP_LOGIN_NEW</link>
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.login"><?dbhtml filename="req_login.html">
    <refmeta>
      <indexterm>
	<primary>REQ_LOGIN</primary>
      </indexterm>
      <refentrytitle>REQ_LOGIN</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_LOGIN</refname>
      <refpurpose>Client requested login</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>1</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_LOGIN</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">name</entry>
		    <entry>string</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">password</entry>
		    <entry>string</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Client requested login</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Login name
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">password</emphasis></term>
	    <listitem>
	      <para>
		Player password
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_LOGIN is sent from the client to the server to
	  request a player login.  The request may come after
	  <link linkend="msg.server.id">MSG_SERVER_ID</link>.  The
	  server will respond to the request with <link
							linkend="rsp.login">RSP_LOGIN</link>
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.login.anon"><?dbhtml filename="req_login_anon.html">
    <refmeta>
      <indexterm>
	<primary>REQ_LOGIN_ANON</primary>
      </indexterm>
      <refentrytitle>REQ_LOGIN_ANON</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_LOGIN_ANON</refname>
      <refpurpose>Client requested "anonymous" login</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>2</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_LOGIN_ANON</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">name</entry>
		    <entry>string</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Client requested login of "anonymous" player</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">name</emphasis></term>
	    <listitem>
	      <para>
		Requested name for "anonymous" player
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_LOGIN_ANON is sent from the client to the server to
	  request an "anonymous" login with the given name.  The
	  request may come after <link
				       linkend="msg.server.id">MSG_SERVER_ID</link>.  The server
	  will respond to the request with <link
						 linkend="rsp.login.anon">RSP_LOGIN_ANON</link>
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.logout"><?dbhtml filename="req_logout.html">
    <refmeta>
      <indexterm>
	<primary>REQ_LOGOUT</primary>
      </indexterm>
      <refentrytitle>REQ_LOGOUT</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_LOGOUT</refname>
      <refpurpose>Client requested logout</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>3</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_LOGOUT</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para></para>
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_LOGOUT is sent from the client to the server to
	  request that the player be logged out.  The server will
	  then respond with <link
				  linkend="rsp.logout">RSP_LOGOUT</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.list.players"><?dbhtml filename="req_list_players.html">
    <refmeta>
      <indexterm>
	<primary>REQ_LIST_PLAYERS</primary>
      </indexterm>
      <refentrytitle>REQ_LIST_PLAYERS</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_LIST_PLAYERS</refname>
      <refpurpose>
	Client request for list of players in current room.
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>6</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_LIST_PLAYERS</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para></para>
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_LIST_PLAYERS is sent from the client to the server
	  to request a list of all players in the current room.
	  The server will respond with <link
					     linkend="rsp.list.players">RSP_LIST_PLAYERS</link>.
	  This request is only valid once the player has
	  successfully joined a room.  See <link
						 linkend="req.room.join">REQ_ROOM_JOIN</link>.
	  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.list.types"><?dbhtml filename="req_list_types.html">
    <refmeta>
      <indexterm>
	<primary>REQ_LIST_TYPES</primary>
      </indexterm>
      <refentrytitle>REQ_LIST_TYPES</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_LIST_TYPES</refname>
      <refpurpose>
	Client request for list of server-supported game types
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>7</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_LIST_TYPES</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">verbose</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Client request for list of server-supported data types</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">verbose</emphasis></term>
	    <listitem>
	      <para>
		verbosity flag.  Set to 0 for short game type
		descriptions, 1 for full descriptions.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_LIST_TYPES is sent from the client to the server
	  to request a list of all game types which the server
	  supports.  The server will respond with <link
							linkend="rsp.list.types">RSP_LIST_TYPES</link>.
	  This request is only valid once the player has
	  successfully logged in.  (ie. after <link
						    linkend="rsp.login.new">RSP_LOGIN_NEW</link>,<link
												       linkend="rsp.login.anon">RSP_LOGIN_ANON</link>, or <link
																				linkend="rsp.login">RSP_LOGIN</link>)
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.list.tables"><?dbhtml filename="req_list_tables.html">
    <refmeta>
      <indexterm>
	<primary>REQ_LIST_TABLES</primary>
      </indexterm>
      <refentrytitle>REQ_LIST_TABLES</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_LIST_TABLES</refname>
      <refpurpose>
	Client request for list of tables
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>8</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_LIST_TABLES</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">type</entry>
		    <entry>int</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">global</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Client request for list of tables</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">type</emphasis></term>
	    <listitem>
	      <para>
		type ID of tables to list.  -1 for all types and
		-3 for open tables of any type.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">global</emphasis></term>
	    <listitem>
	      <para>
		global search flag.  Set to 1 to list tables in
		any room on the server.  Set to 0 to restrict
		table list to current room.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_LIST_TABLES is sent from the client to the server to
	  request a list of tables.  Clients may request lists to
	  be confined to tables of a specific game type, tables
	  with open seats, or any table.  Additionally the list
	  can be global or restricted to the current room.  The
	  server will respond with <link
					 linkend="rsp.list.tables">RSP_LIST_TABLES</link>.  This
	  request is only valid once the player has successfully
	  joined a room.  See <link
				    linkend="req.room.join">REQ_ROOM_JOIN</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.list.rooms"><?dbhtml filename="req_list_rooms.html">
    <refmeta>
      <indexterm>
	<primary>REQ_LIST_ROOMS</primary>
      </indexterm>
      <refentrytitle>REQ_LIST_ROOMS</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_LIST_ROOMS</refname>
      <refpurpose>
	Client request for list of rooms on the server
      </refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>9</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_LIST_ROOMS</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">type</entry>
		    <entry>int</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">verbose</entry>
		    <entry>char</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Client request for list of rooms on the server</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">type</emphasis></term>
	    <listitem>
	      <para>
		list of rooms of specified game type ID.  -1 for
		all types and.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">verbose</emphasis></term>
	    <listitem>
	      <para>
		verbosity flag.  Set to 0 for short room 
		descriptions, 1 for full descriptions.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_LIST_ROOMS is sent from the client to the server to
	  request a list of all rooms on the server.  The server
	  will respond with <link
				  linkend="rsp.list.rooms">RSP_LIST_ROOMS</link>.  This
	  request is only valid once the player has successfully
	  logged in. (ie. after <link
				      linkend="rsp.login.new">RSP_LOGIN_NEW</link>,<link
											 linkend="rsp.login.anon">RSP_LOGIN_ANON</link>, or <link
																		  linkend="rsp.login">RSP_LOGIN</link>)
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.table.launch"><?dbhtml filename="req_table_launch.html">
    <refmeta>
      <indexterm>
	<primary>REQ_TABLE_LAUNCH</primary>
      </indexterm>
      <refentrytitle>REQ_TABLE_LAUNCH</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_TABLE_LAUNCH</refname>
      <refpurpose>Client request for new table launch</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<colspec colnum="4" colname="C4">
		  <spanspec spanname="data.seq0" namest="C1" nameend="C2"
			    align="left">
		    <spanspec spanname="data.seq1" namest="C1" nameend="C2"
			      align="right">
		      <spanspec spanname="all" namest="C1" nameend="C4"
				align="left"> 
			<tbody>
			  
			  <row rowsep="0">
			    <entry namest="C1" nameend="C3">
			      <emphasis role="bold">Opcode</emphasis>
			    </entry>
			    <entry>12</entry>
			  </row>
			  
			  <row rowsep="0">
			    <entry spanname="all">REQ_TABLE_LAUNCH</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq0">
			      <emphasis role="bold">Data</emphasis>
			    </entry>
			    <entry><emphasis role="bold">Type</emphasis></entry>
			    <entry><emphasis role="bold">Sent</emphasis></entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq0">type</entry>
			    <entry>int</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq0">description</entry>
			    <entry>string</entry>
			    <entry>always</entry>
			  </row>
			  
			  <row rowsep="1">
			    <entry spanname="data.seq0">seats</entry>
			    <entry>int</entry>
			    <entry>always</entry>
			  </row>
			  
			  
			  <row rowsep="1">
			    <entry spanname="all">
			      <emphasis>sequence of</emphasis> lines:
			    </entry>
			  </row>
			  
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">assignment</entry>
			    <entry>int</entry>
			    <entry>always</entry>
			  </row>
			  
			  
			  <row rowsep="1">
			    <entry spanname="data.seq1">name</entry>
			    <entry>string</entry>
			    <entry>if reserved</entry>
			  </row>
			  
			</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Client request for new table launch</para>
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_TABLE_LAUNCH is sent from the client to the server
	  to request the launch of a new table.  The server will
	  respond with <link
			     linkend="rsp.table.launch">RSP_TABLE_LAUNCH</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.table.join"><?dbhtml filename="req_table_join.html">
    <refmeta>
      <indexterm>
	<primary>REQ_TABLE_JOIN</primary>
      </indexterm>
      <refentrytitle>REQ_TABLE_JOIN</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_TABLE_JOIN</refname>
      <refpurpose>Server response to request to join table</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>13</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_TABLE_JOIN</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">table</entry>
		    <entry>int</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Client request to join table</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">table</emphasis></term>
	    <listitem>
	      <para>
		table ID of table the player wishes to join
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_TABLE_JOIN is sent from client to the server to
	  request a table join.  The server will respond with
	  <link linkend="rsp.table.join">RSP_TABLE_JOIN</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.table.leave"><?dbhtml filename="req_table_leave.html">
    <refmeta>
      <indexterm>
	<primary>REQ_TABLE_LEAVE</primary>
      </indexterm>
      <refentrytitle>REQ_TABLE_LEAVE</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_TABLE_LEAVE</refname>
      <refpurpose>Client request to leave table</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>14</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_TABLE_LEAVE</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Server response to player request to leave tablet</para>
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_TABLE_LEAVE is sent from the client to the server to
	  request a table leave.  The server will respons with
	  <link linkend="rsp.table.leave">RSP_TABLE_LEAVE</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.game"><?dbhtml filename="req_game.html">
    <refmeta>
      <indexterm>
	<primary>REQ_GAME</primary>
      </indexterm>
      <refentrytitle>REQ_GAME</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_GAME</refname>
      <refpurpose>Message from game module client</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>15</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_GAME</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">size</entry>
		    <entry>int</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C3">(raw data)</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Message from game module client</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">size</emphasis></term>
	    <listitem>
	      <para>
		number of bytes sent from game module client to
		game module server
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_GAME is a message sent from the client to the server
	  containing data from the game module client for the game
	  module server.  See also <link
					 linkend="rsp.game">RSP_GAME</link>.  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.chat"><?dbhtml filename="req_chat.html">
    <refmeta>
      <indexterm>
	<primary>REQ_CHAT</primary>
      </indexterm>
      <refentrytitle>REQ_CHAT</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_CHAT</refname>
      <refpurpose>Client chat message request</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>16</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_CHAT</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry><emphasis role="bold">Data</emphasis></entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		    <entry><emphasis role="bold">Sent</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>sub-opcode</entry>
		    <entry>char</entry>
		    <entry>always</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>player</entry>
		    <entry>string</entry>
		    <entry>if bit set</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry>message</entry>
		    <entry>string</entry>
		    <entry>if bit set</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Client chat message request</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">sub-opcode</emphasis></term>
	    <listitem>
	      <para>
		Chat operation type:
		<itemizedlist>
		  <listitem>
		    <para>
		      GGZ_CHAT_NORMAL (64) : typical chat message
		      to all in room (includes message field)
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_CHAT_BEEP (128) : send a beep to another
		      player's console (includes player field)
		    </para>
		  </listitem>
		  <listitem>
		    <para>
		      GGZ_CHAT_PERSONAL (192) : message directed
		      to a single player (includes player and
		      message fields)
		    </para>
		  </listitem>
		</itemizedlist>
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">player</emphasis></term>
	    <listitem>
	      <para>
		Name of player who will receive message.  Only
		included if the most-significant bit of sub-opcode
		is set (ie. sub-opcode & 0x80 is true)
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><emphasis role="bold">message</emphasis></term>
	    <listitem>
	      <para>
		Chat message.  Only included if next to
		most-significant bit of sub-opcode is set
		(ie. sub-opcode & 0x40 is true)
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_CHAT is sent from the client to send a chat
	  message. The server will respond with <link
						      linkend="rsp.chat">RSP_CHAT</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.motd"><?dbhtml filename="req_motd.html">
    <refmeta>
      <indexterm>
	<primary>REQ_MOTD</primary>
      </indexterm>
      <refentrytitle>REQ_MOTD</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_MOTD</refname>
      <refpurpose>Request for MOTD from server</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>17</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_MOTD</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Request fro MOTD from server</para>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_MOTD is sent to request the MOTD.  The server is
	  expected to respond with <link
					 linkend="rsp.motd">RSP_MOTD</link>.
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
  <refentry id="req.room.join"><?dbhtml filename="req_room_join.html">
    <refmeta>
      <indexterm>
	<primary>REQ_ROOM_JOIN</primary>
      </indexterm>
      <refentrytitle>REQ_ROOM_JOIN</refentrytitle>
    </refmeta>
    
    <refnamediv>
      <refname>REQ_ROOM_JOIN</refname>
      <refpurpose>Request to chamge rooms</refpurpose>
    </refnamediv>
    
    <refsynopsisdiv><title>Synopsis</title>
      <informaltable>
	<tgroup cols="3">
	  <colspec colnum="1" colname="C1" align="left">
	    <colspec colnum="2" colname="C2">
	      <colspec colnum="3" colname="C3">
		<tbody>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Opcode</emphasis>
		    </entry>
		    <entry>18</entry>
		  </row>
		  
		  <row rowsep="0">
		    <entry namest="C1" nameend="C3">REQ_ROOM_JOIN</entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">
		      <emphasis role="bold">Data</emphasis>
		    </entry>
		    <entry><emphasis role="bold">Type</emphasis></entry>
		  </row>
		  
		  <row rowsep="1">
		    <entry namest="C1" nameend="C2">room</entry>
		    <entry>int</entry>
		  </row>
		  
		</tbody>
	</tgroup>
      </informaltable>
    </refsynopsisdiv>
    
    <refsect1>
      <title>Description</title>
      <para>Request to change rooms</para>
      <refsect2>
	<title>Message Data</title>
	<variablelist>
	  <varlistentry>
	    <term><emphasis role="bold">room</emphasis></term>
	    <listitem>
	      <para>
		room ID of requested destination room
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </refsect2>
      
      <refsect2>
	<title>Usage</title>
	<para>
	  REQ_ROOM_JOIN is sent from the client to the server to
	  request a room change.  It is expected that the server
	  will respond with <link
				  linkend="rsp.room.join">RSP_ROOM_JOIN</link>.  
	</para>
      </refsect2>
    </refsect1>
  </refentry>
  
</section>

    
<section id = "server-to-module"><title>Messages from server to game module</title>
  <para>Messages from server to game module</para>
</section>
